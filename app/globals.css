@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;
  }

  body {
    @apply m-0 bg-zinc-50 text-zinc-900 antialiased;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  }

  a {
    @apply text-inherit;
  }

  pre {
    white-space: pre-wrap;
  }

  code {
    @apply rounded-md bg-zinc-100 px-1.5 py-0.5 text-[0.925em];
  }

  button {
    @apply inline-flex items-center justify-center rounded-xl border border-zinc-200 bg-white px-4 py-2 text-sm font-medium shadow-sm hover:bg-zinc-50 active:scale-[0.99] disabled:cursor-not-allowed disabled:opacity-50;
  }
}

@layer components {
  .container {
    @apply mx-auto w-full max-w-6xl px-4;
  }

  .card {
    @apply rounded-2xl border border-zinc-200 bg-white p-4 shadow-sm;
  }

  .muted {
    @apply text-zinc-500;
  }

  .small {
    @apply text-sm;
  }

  .row {
    @apply flex flex-wrap items-center gap-3;
  }

  .btn {
    @apply inline-flex items-center justify-center rounded-xl border border-zinc-200 bg-white px-4 py-2 text-sm font-medium shadow-sm hover:bg-zinc-50 active:scale-[0.99] disabled:cursor-not-allowed disabled:opacity-50;
  }

  .btn-primary {
    @apply border-transparent bg-zinc-900 text-white hover:bg-zinc-800;
  }

  .btn-ghost {
    @apply border-transparent bg-transparent shadow-none hover:bg-zinc-100;
  }

  input,
  textarea,
  select {
    @apply w-full rounded-xl border border-zinc-200 bg-white px-3 py-2 text-sm outline-none ring-offset-white placeholder:text-zinc-400 focus-visible:ring-2 focus-visible:ring-zinc-900/10;
  }

  hr {
    @apply my-3 border-0 border-t border-zinc-200;
  }
}

/* =============================
   Super Thanks (YouTube-style)
   ============================= */
.superthanks-card {
  /* Tier variables are set by `.superthanks-tier-*` */
  --st-grad-a: rgba(234, 179, 8, 0.18);
  --st-grad-b: rgba(245, 158, 11, 0.18);
  --st-border: rgba(245, 158, 11, 0.38);
  --st-glow: rgba(245, 158, 11, 0.35);
  --st-text: #0b0b0b;

  border-radius: 16px;
  padding: 12px;
  border: 1px solid var(--st-border);
  background: linear-gradient(135deg, var(--st-grad-a), var(--st-grad-b));
  color: var(--st-text);
  position: relative;
  overflow: hidden;
  transition: transform 180ms ease, box-shadow 180ms ease;
  box-shadow:
    0 0 0 1px rgba(0, 0, 0, 0.06),
    0 10px 26px rgba(0, 0, 0, 0.08),
    0 0 18px var(--st-glow);
}

/* Glow + hover lift */
.superthanks-card:hover {
  transform: translateY(-1px) scale(1.01);
  box-shadow:
    0 0 0 1px rgba(0, 0, 0, 0.08),
    0 16px 36px rgba(0, 0, 0, 0.12),
    0 0 22px var(--st-glow);
}

/* Glow ambient layer */
.superthanks-card::before {
  content: "";
  position: absolute;
  inset: -40%;
  background:
    radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.35), transparent 55%),
    radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0.22), transparent 60%);
  transform: rotate(8deg);
  animation: superthanksGlow 7s linear infinite;
  pointer-events: none;
  opacity: 0.6;
}

/* Shimmer effect (light sweep) */
.superthanks-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent 0%, rgba(255, 255, 255, 0.35) 45%, transparent 80%);
  transform: translateX(-140%);
  animation: superthanksShimmer 2600ms ease-in-out infinite;
  pointer-events: none;
  mix-blend-mode: overlay;
  opacity: 0.7;
}

@keyframes superthanksGlow {
  0% {
    transform: translate3d(-2%, -2%, 0) rotate(8deg);
    opacity: 0.62;
  }
  50% {
    transform: translate3d(2%, 2%, 0) rotate(8deg);
    opacity: 0.38;
  }
  100% {
    transform: translate3d(-2%, -2%, 0) rotate(8deg);
    opacity: 0.62;
  }
}

@keyframes superthanksShimmer {
  0% {
    transform: translateX(-140%);
    opacity: 0.0;
  }
  18% {
    opacity: 0.85;
  }
  55% {
    opacity: 0.55;
  }
  100% {
    transform: translateX(140%);
    opacity: 0.0;
  }
}

.superthanks-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 2px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.35);
  background: rgba(255, 255, 255, 0.16);
  backdrop-filter: blur(6px);
  margin-right: 8px;
}

/* Pulse animation */
.superthanks-pulse {
  animation: superthanksPulse 1400ms ease-in-out infinite;
}

@keyframes superthanksPulse {
  0%,
  100% {
    transform: scale(1);
    opacity: 0.92;
  }
  50% {
    transform: scale(1.03);
    opacity: 1;
  }
}

/* Slow spinning star icon */
.superthanks-spin {
  display: inline-block;
  animation: superthanksSpin 6s linear infinite;
  transform-origin: 50% 50%;
}

@keyframes superthanksSpin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Sparkle effects */
.superthanks-sparkles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}

.superthanks-sparkle {
  position: absolute;
  opacity: 0.0;
  filter: drop-shadow(0 6px 10px rgba(0, 0, 0, 0.22));
  animation-name: superthanksSparkle;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
}

@keyframes superthanksSparkle {
  0% {
    transform: translateY(0) scale(0.85) rotate(-10deg);
    opacity: 0;
  }
  18% {
    opacity: 0.95;
  }
  50% {
    transform: translateY(-12px) scale(1.15) rotate(12deg);
    opacity: 0.85;
  }
  78% {
    transform: translateY(-8px) scale(1.05) rotate(-8deg);
    opacity: 0.55;
  }
  100% {
    transform: translateY(-22px) scale(0.92) rotate(0deg);
    opacity: 0;
  }
}


/* PeerTube vibe: left accent bar + gold frame */
.superthanks-pt {
  padding-left: 18px;
  outline: 1px solid rgba(245, 158, 11, 0.35);
  outline-offset: -1px;
}

.superthanks-pt-accent {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 6px;
  background: linear-gradient(180deg, var(--st-accent-a, rgba(245, 158, 11, 0.95)), var(--st-accent-b, rgba(234, 179, 8, 0.95)));
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.08), 0 0 18px var(--st-glow);
}

/* Gold gradient pill: Super Thanks â€¢ X stars */
.superthanks-pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 4px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.38);
  box-shadow: 0 10px 26px rgba(0, 0, 0, 0.18);
  user-select: none;
  transition: transform 160ms ease, box-shadow 160ms ease;
}

.superthanks-pill:hover {
  transform: translateY(-1px) scale(1.02);
  box-shadow: 0 16px 36px rgba(0, 0, 0, 0.22);
}

.superthanks-pill-gold {
  color: #111827;
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.95), rgba(252, 211, 77, 0.95));
}

.superthanks-pill-sep {
  opacity: 0.7;
  font-weight: 900;
}

.superthanks-star-fill {
  fill: currentColor;
}

/* Bold text for Super Thanks content */
.superthanks-content {
  font-weight: 700;
}
/* Tier-based styling */
.superthanks-tier-bronze {
  --st-grad-a: rgba(180, 83, 9, 0.90); /* amber-700 */
  --st-grad-b: rgba(217, 119, 6, 0.90); /* amber-600 */
  --st-border: rgba(253, 230, 138, 0.38);
  --st-glow: rgba(245, 158, 11, 0.45);
  --st-text: #fff;
  --st-accent-a: rgba(245, 158, 11, 0.98);
  --st-accent-b: rgba(234, 179, 8, 0.98);
}

.superthanks-tier-silver {
  --st-grad-a: rgba(156, 163, 175, 0.92); /* gray-400 */
  --st-grad-b: rgba(209, 213, 219, 0.92); /* gray-300 */
  --st-border: rgba(255, 255, 255, 0.55);
  --st-glow: rgba(209, 213, 219, 0.40);
  --st-text: #111827;
  --st-accent-a: rgba(209, 213, 219, 0.98);
  --st-accent-b: rgba(156, 163, 175, 0.98);
}

.superthanks-tier-gold {
  --st-grad-a: rgba(234, 179, 8, 0.92); /* yellow-500 */
  --st-grad-b: rgba(245, 158, 11, 0.92); /* amber-500 */
  --st-border: rgba(255, 255, 255, 0.45);
  --st-glow: rgba(234, 179, 8, 0.42);
  --st-text: #111827;
  --st-accent-a: rgba(252, 211, 77, 0.98);
  --st-accent-b: rgba(245, 158, 11, 0.98);
}

.superthanks-tier-platinum {
  --st-grad-a: rgba(203, 213, 225, 0.92); /* slate-300 */
  --st-grad-b: rgba(226, 232, 240, 0.92); /* slate-200 */
  --st-border: rgba(255, 255, 255, 0.62);
  --st-glow: rgba(226, 232, 240, 0.45);
  --st-text: #0f172a;
  --st-accent-a: rgba(226, 232, 240, 0.98);
  --st-accent-b: rgba(203, 213, 225, 0.98);
}

.superthanks-tier-diamond {
  --st-grad-a: rgba(168, 85, 247, 0.92); /* purple-500 */
  --st-grad-b: rgba(236, 72, 153, 0.92); /* pink-500 */
  --st-border: rgba(255, 255, 255, 0.45);
  --st-glow: rgba(236, 72, 153, 0.48);
  --st-text: #fff;
  --st-accent-a: rgba(236, 72, 153, 0.98);
  --st-accent-b: rgba(168, 85, 247, 0.98);
}

.superthanks-top-supporter {
  display: inline-block;
  padding: 2px 10px;
  border-radius: 999px;
  font-weight: 800;
  font-size: 11px;
  letter-spacing: 0.06em;
  color: #fff;
  background: rgba(0, 0, 0, 0.25);
  border: 1px solid rgba(255, 255, 255, 0.35);
  box-shadow: 0 10px 26px rgba(0, 0, 0, 0.25);
}

/* Super Thanks trigger button (hover/pulse) */
.superthanks-trigger {
  transition: transform 160ms ease, box-shadow 160ms ease;
}

.superthanks-trigger:hover {
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
}

/* Super Thanks send button inside modal */
.superthanks-btn {
  position: relative;
  overflow: hidden;
  transition: transform 160ms ease, box-shadow 160ms ease;
  box-shadow: 0 10px 26px rgba(0, 0, 0, 0.12);
}

.superthanks-btn:hover {
  transform: translateY(-1px) scale(1.02);
  box-shadow: 0 16px 34px rgba(0, 0, 0, 0.16);
}

.superthanks-btn.superthanks-tier-bronze {
  background: linear-gradient(135deg, rgba(180, 83, 9, 1), rgba(217, 119, 6, 1)) !important;
  color: #fff !important;
}
.superthanks-btn.superthanks-tier-silver {
  background: linear-gradient(135deg, rgba(156, 163, 175, 1), rgba(209, 213, 219, 1)) !important;
  color: #111827 !important;
}
.superthanks-btn.superthanks-tier-gold {
  background: linear-gradient(135deg, rgba(234, 179, 8, 1), rgba(245, 158, 11, 1)) !important;
  color: #111827 !important;
}
.superthanks-btn.superthanks-tier-platinum {
  background: linear-gradient(135deg, rgba(203, 213, 225, 1), rgba(226, 232, 240, 1)) !important;
  color: #0f172a !important;
}
.superthanks-btn.superthanks-tier-diamond {
  background: linear-gradient(135deg, rgba(168, 85, 247, 1), rgba(236, 72, 153, 1)) !important;
  color: #fff !important;
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  .superthanks-card,
  .superthanks-card::before,
  .superthanks-card::after,
  .superthanks-pulse,
  .superthanks-spin,
  .superthanks-sparkle {
    animation: none !important;
    transition: none !important;
  }
}

/* Sticker overlay on video */
.superthanks-sticker-wrap {
  position: absolute;
  inset: 0;
  pointer-events: none;
  display: grid;
  place-items: center;
  z-index: 20;
}
.superthanks-sticker {
  /* Backward compatible: sticker overlay uses --st-hue */
  --st-border: hsla(var(--st-hue), 90%, 55%, 0.42);
  --st-bg: hsla(var(--st-hue), 90%, 55%, 0.16);
  width: 140px;
  max-width: 48vw;
  aspect-ratio: 1 / 1;
  display: grid;
  place-items: center;
  border-radius: 18px;
  border: 1px solid var(--st-border);
  background: var(--st-bg);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  animation: superthanksStickerInOut 1800ms ease-in-out forwards;
}
.superthanks-sticker img {
  width: 72%;
  height: 72%;
  object-fit: contain;
  filter: drop-shadow(0 10px 16px rgba(0, 0, 0, 0.25));
}
@keyframes superthanksStickerInOut {
  0% {
    transform: translateY(12px) scale(0.85);
    opacity: 0;
  }
  18% {
    transform: translateY(0) scale(1.02);
    opacity: 1;
  }
  40% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-10px) scale(0.94);
    opacity: 0;
  }
}

/* Simple modal */
.modalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  display: grid;
  place-items: center;
  z-index: 50;
  padding: 12px;
}
.modal {
  width: min(560px, calc(100vw - 28px));
  border-radius: 16px;
  background: #fff;
  padding: 14px;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.25);
}
