# =============================
# VideoShare env example
# =============================

# Public URL (used for SEO, sitemap, PWA manifest base, etc.)
SITE_URL="http://localhost:3000"
NEXTAUTH_URL="http://localhost:3000"

# Runtime
NODE_ENV="development"
AUTH_SECRET="change-me-to-a-long-random-string"

# =============================
# Local DB / Redis (docker-compose)
# =============================
# Start: docker compose up -d
#
# MySQL: mysql://<user>:<pass>@<host>:<port>/<db>
DATABASE_URL="mysql://videoshare:videoshare@127.0.0.1:3306/videoshare"
REDIS_URL="redis://127.0.0.1:6379"

# Redis cache
SIMILAR_CACHE_TTL_SECONDS="900"   # 15 minutes
SIMILAR_CACHE_MAX_ITEMS="50"      # cache top-N similar videos per videoId

# =============================
# Payments / Stars topup
# =============================
APP_ENV="dev" # dev|prod
PAYMENTS_RECONCILE_EVERY_MS="120000" # 2 minutes
# Nếu deposit ở trạng thái SUBMITTED quá X phút thì worker sẽ tự reconcile
PAYMENTS_SUBMITTED_STALE_MINUTES="10"
# Sai số chấp nhận (basis points). 0.5% = 50 bps
PAYMENTS_TOLERANCE_BPS="50"

# Creator memberships (Fan Club)
MEMBERSHIP_BILLING_EVERY_MS="3600000"
MEMBERSHIP_RENEW_AHEAD_HOURS="24"

# RPC endpoints (khuyến nghị cấu hình)
SOLANA_RPC_URL=""
EVM_RPC_URL_ETHEREUM=""
EVM_RPC_URL_POLYGON=""
EVM_RPC_URL_BSC=""
EVM_RPC_URL_BASE=""

# Webhook provider secrets (fallback nếu không dùng PaymentProviderSecret trong DB)
ALCHEMY_WEBHOOK_SIGNING_KEY=""
QUICKNODE_WEBHOOK_SECRET=""
HELIUS_WEBHOOK_SECRET=""

TRONGRID_API_URL="https://api.trongrid.io"
TRONGRID_API_KEY=""

DISCORD_ALERT_WEBHOOK_URL=""

# Upload limits
UPLOAD_MAX_BYTES="2147483648"      # 2GB
UPLOAD_PART_BYTES="209715200"      # 200MB

# =============================
# Cloudflare R2 (S3 compatible)
# =============================
R2_ACCOUNT_ID="..."
R2_ACCESS_KEY_ID="..."
R2_SECRET_ACCESS_KEY="..."
R2_BUCKET="..."
R2_PUBLIC_BASE_URL="https://cdn.your-domain.com"

# =============================
# Optional features
# =============================
NEXT_PUBLIC_ENABLE_PWA="true"

INDEXNOW_ENABLED="false"
INDEXNOW_KEY=""
INDEXNOW_KEY_LOCATION=""

GA_ENABLED="false"
GA_ID=""

ONESIGNAL_ENABLED="false"
ONESIGNAL_APP_ID=""
ONESIGNAL_SAFARI_WEB_ID=""

SUBTITLES_AUTO_ENABLED="false"
OPENAI_API_KEY=""
OPENAI_TRANSCRIBE_MODEL="whisper-1"

CLAMAV_ENABLED="false"
CLAMAV_HOST="127.0.0.1"
CLAMAV_PORT="3310"

# Install Wizard
# Set true to allow /install even after env is configured.
INSTALL_WIZARD_ENABLED="false"

# =============================
# NFT / IPFS export (optional)
# =============================
# Provider: NFT_STORAGE | LIGHTHOUSE
NFT_STORAGE_PROVIDER="NFT_STORAGE"
NFT_STORAGE_API_KEY=""

# NFT export contracts (seed defaults Polygon primary). Can override seed defaults.
NFT_POLYGON_PRIMARY_CONTRACT_ADDRESS="0xF6E5fEB76959f59c80023392386B997B068c27c6"
NFT_ETHEREUM_CONTRACT_ADDRESS=""
NFT_BSC_CONTRACT_ADDRESS=""
NFT_BASE_CONTRACT_ADDRESS=""
NFT_SOLANA_CONTRACT_ADDRESS=""
NFT_TRON_CONTRACT_ADDRESS=""
LIGHTHOUSE_API_KEY=""
# Gateway base (used to render ipfs://CID as https://.../CID)
IPFS_GATEWAY_BASE_URL="https://ipfs.io/ipfs"

# Worker ffmpeg font for drawtext watermark (optional)
FFMPEG_FONT_PATH=/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf

# Notifications
NOTIFICATIONS_WEEKLY_DIGEST_EVERY_MS=86400000
